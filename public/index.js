(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!t;)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p;class t{constructor(e){this.elementContainer=e,this.formSubmission=this.formSubmission.bind(this),this.checkSystemPayment=this.checkSystemPayment.bind(this)}static get renderForm(){return'\n      <form class="input-card-number">\n        <div class="line-cards">\n          <img class="img-card amex" src="./images/amex.png">\n          <img class="img-card diners" src="./images/diners.png">\n          <img class="img-card discover" src="./images/discover.png">\n          <img class="img-card jcb" src="./images/jcb.png">\n          <img class="img-card mastercard" src="./images/mastercard.png">\n          <img class="img-card mir" src="./images/mir.png">\n          <img class="img-card visa" src="./images/visa.png">\n        </div>\n        <div class="line-input">\n          <input class="cardNumber" name="inputNumber">\n          <button class="button" type="submit">Click to Validate</button>\n        </div>\n      </form>\n    '}setToDom(){this.elementContainer.innerHTML=t.renderForm,this.elementForm=this.elementContainer.querySelector(".input-card-number"),this.elementInput=this.elementContainer.querySelector(".cardNumber"),this.elementButton=this.elementContainer.querySelector(".button"),this.elementInput.addEventListener("input",this.checkSystemPayment),this.elementForm.addEventListener("submit",this.formSubmission)}checkSystemPayment(){this.elementInput.classList.remove("error");const e=this.elementInput.value,t=function(e){if("2"===e[0])return"mir";if("3"===e[0]){if("4"===e[1]||"7"===e[1])return"amex";if("6"===e[1]||"0"===e[1]||"8"===e[1])return"diners";if("1"===e[1]||"5"===e[1])return"jcb"}else{if("4"===e[0])return"visa";if("5"===e[0]&&!["0","6","7","8"].includes(e[1]))return"mastercard";if("6"===e[0]&&"0"===e[1])return"discover"}return null}(e);this.elementContainer.querySelectorAll(".img-card").forEach((r=>{""===e?r.classList.remove("card-dis"):(r.classList.add("card-dis"),r.classList.contains(t)&&r.classList.remove("card-dis"))}))}formSubmission(e){e.preventDefault(),function(e){if(""!==e&&/^\d+$/.test(e)&&e.length>13){const t=e.split("");let r=0;for(let e=t.length-1;e>=0;e-=1){let n=Number(t[e]);e%2==0?(n*=2,r+=n>9?n-9:n):r+=n}if(r%10==0)return!0}return!1}(this.elementInput.value)||this.elementInput.classList.add("error")}}document.addEventListener("DOMContentLoaded",(()=>{new t(document.querySelector(".container-widget")).setToDom()}))})();